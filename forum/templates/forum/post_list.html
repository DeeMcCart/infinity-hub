{% extends "base.html" %}

{% block title %}Posts{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Posts</h1>
    
    {% if user.is_authenticated %}
        <a href="{% url 'create_post' %}" class="btn btn-primary mb-3">Create Post</a>
    {% endif %}
    
    <ul>
        {% for post in posts %}
            <li>
                <a href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
                {% if user.is_authenticated and user == post.author %}
                    <a href="{% url 'edit_post' post.id %}" class="btn btn-sm btn-primary">Edit</a>
                    <a href="{% url 'delete_post' post.id %}" class="btn btn-sm btn-danger">Delete</a>
                {% endif %}
            </li>
        {% empty %}
            <li>No posts found matching your life stage or neurodiversity</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}